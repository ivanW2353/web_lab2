# *一些关于数据处理的注意事项

## 1. 子图构建后的编号重映射

在抽取豆瓣电影知识图谱子图的过程中，需要完成 **编号重映射**：将所有 Freebase 的实体 ID 和关系 ID 映射为从 **0 开始**的连续编号。

注：该步骤可在子图抽取过程中完成，也可在抽取完成后统一处理。

* 重映射形式类似于（仅作为示例）：

  * 实体：
    ```
    0 m.09gb_4p
    1 m.0dgs73j
    2 m.09gq0x5
    3 m.0211pk
    4 m.0bwky98
    5 m.05345qj
    ```

  * 关系
    ```
    0 type.type.instance
    1 film.film_crew_gig.film
    2 film.film_regional_release_date.film
    3 film.performance.film
    4 music.soundtrack.film
    ```

* 基于此，最终三元组中的实体、关系需要以从0开始的编号表示（**建议将重映射后的三元组保存为文件，以便后续数据集划分使用**），即格式类似于：
  ```
  578 0 8
  579 0 142
  579 0 144
  579 0 143
  580 1 23
  ```

  * 其中每一行为一个三元组，如第一行“578 0 8”代表三元组（578，0，8）。578为头实体从0开始的新编号，同理，0为关系编号，8为尾实体编号。



## 2. 数据集划分要求

若使用提供的代码流程，为确保能够正常读取数据，请将划分后的三份数据集命名为：`train.txt`，`valid.txt`，`test.txt`。

要求：

* 每行三元组格式为 `h r t`，以空格分隔。
* 实体与关系编号必须均从 **0 开始**。
* 文件保存至 `data/freebase/` 目录下。

以下为 `train.txt` 的示例：

```
249 43 87587
524 73 46502
229 51 16115
11 130 49260
74673 2 303
```



> 如有任何问题，可向助教确认或反馈
>
> 祝大家实验顺利~